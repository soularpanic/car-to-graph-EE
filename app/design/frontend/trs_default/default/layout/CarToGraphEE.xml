<?xml version="1.0" encoding="UTF-8" ?>

<layout version="0.1.0">

    <buyersguide_ballasts>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>ballasts</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml">
                <action method="setNoFitAction"><value>step:1</value></action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml">
                <block type="cartographee/buyersguide_layer_filter_step_generic" name="step_1" as="step_1" template="cartographee/buyersguide/step/Binary.phtml">
                    <action method="setQ"><q>1</q></action>
                    <action method="setStepConfig">
                        <config>
                            <model>cartographee/buyersguide_layer_filter_chain_link_ballast_wattage</model>
                            <display_name>Light Output</display_name>
                            <step_question>How much light output do you need?</step_question>
                            <binary>
                                <watt35>
                                    <title>35 Watt Ballast</title>
                                    <!--<model>cartographee/buyersguide_layer_filter_ballast_wattage</model>-->
                                </watt35>
                                <watt55>
                                    <title>55 Watt Ballast</title>
                                    <!--<model>cartographee/buyersguide_layer_filter_ballast_wattage</model>-->
                                </watt55>
                            </binary>
                            <options>
                                <wattage>
                                    <binary>
                                        <watt35><action>step:2</action></watt35>
                                        <watt55><action>step:2</action></watt55>
                                        <!--<watt35><action>(set wattage = 35); step:2</action></watt35>-->
                                        <!--<watt55><action>(set wattage = 55); step:2</action></watt55>-->
                                    </binary>
                                </wattage>
                            </options>
                        </config>
                    </action>
                </block>
                <block type="cartographee/buyersguide_layer_filter_step_generic" name="step_2" as="step_2" template="cartographee/buyersguide/step/Ribbon.phtml">
                    <action method="setQ"><q>2</q></action>
                    <action method="setStepConfig">
                        <config>
                            <display_name>Bulb</display_name>
                            <step_question>What HID bulbs will you be running with the ballasts?</step_question>
                            <step_desc>This will determine whether you need them for "AMP" or "D2" Fitment</step_desc>
                            <options>
                                <d2s>
                                    <title>D2S</title>
                                    <image>
                                        <url>images/productcategory/bulbs-D2S.svg</url>
                                    </image>
                                    <action>sku:(get wattage)D2S-R</action>
                                </d2s>
                                <d2r>
                                    <title>D2R</title>
                                    <image>
                                        <url>images/productcategory/bulbs-D2R.svg</url>
                                    </image>
                                    <action>sku:(get wattage)D2S-R</action>
                                </d2r>
                                <h1>
                                    <title>H1</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h1.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h1>
                                <h3>
                                    <title>H3</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h3.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h3>
                                <h4>
                                    <title>H4</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h4.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h4>
                                <h7>
                                    <title>H7</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h7.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h7>
                                <h8>
                                    <title>H8</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h8.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h8>
                                <h9>
                                    <title>H9</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h9.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h9>
                                <h10>
                                    <title>H10</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h10.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h10>
                                <h11>
                                    <title>H11</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h11.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h11>
                                <h13>
                                    <title>H13</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h13.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h13>
                                <x880>
                                    <title>880</title>
                                    <image>
                                        <url>images/productcategory/bulbs-880.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </x880>
                                <x9005>
                                    <title>9005</title>
                                    <image>
                                        <url>images/productcategory/bulbs-9005.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </x9005>
                                <x9006>
                                    <title>9006</title>
                                    <image>
                                        <url>images/productcategory/bulbs-9006.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </x9006>
                                <x9007>
                                    <title>9007</title>
                                    <image>
                                        <url>images/productcategory/bulbs-9007.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </x9007>
                                <x9012>
                                    <title>9012</title>
                                    <image>
                                        <url>images/productcategory/bulbs-9012.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </x9012>
                                <d2h>
                                    <title>D2H</title>
                                    <image>
                                        <url>images/productcategory/bulbs-D2H.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </d2h>
                                <h16>
                                    <title>H16</title>
                                    <image>
                                        <url>images/productcategory/bulbs-h16.svg</url>
                                    </image>
                                    <action>sku:(get wattage)AMP-R</action>
                                </h16>
                            </options>
                        </config>
                    </action>
                </block>
            </block>
        </reference>
    </buyersguide_ballasts>

    <CATEGORY_21>
        <update handle="buyersguide_ballasts"/>
    </CATEGORY_21>



    <buyersguide_housings>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>bulbs</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_generic" name="buyersguide_toolbar_supplemental" as="buyersguide_toolbar_supplemental" template="cartographee/buyersguide/toolbar/Supplemental.phtml">
                <action method="setStepConfig">
                    <config>
                        <id>housing_function</id>
                        <apply_to_direct_fit>true</apply_to_direct_fit>
                        <options>
                            <all>
                                <title>All Function Types</title>
                            </all>
                            <housings>
                                <title>Headlights</title>
                                <action>fit_sql:type=~</action>
                            </housings>
                            <led_fog>
                                <title>Fog Lights</title>
                                <action>fit_sql:type=~</action>
                            </led_fog>
                        </options>
                    </config>
                </action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml"/>
        </reference>
    </buyersguide_housings>

    <CATEGORY_64>
        <update handle="buyersguide_housings"/>
    </CATEGORY_64>



    <buyersguide_leds>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>bulbs</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_generic" name="buyersguide_toolbar_supplemental" as="buyersguide_toolbar_supplemental" template="cartographee/buyersguide/toolbar/Supplemental.phtml">
                <action method="setStepConfig">
                    <config>
                        <id>bulb_function</id>
                        <apply_to_direct_fit>true</apply_to_direct_fit>
                        <options>
                            <all>
                                <title>All Function Types</title>
                            </all>
                            <front_turn>
                                <title>Front Turn Signals</title>
                                <action>fit_sql:type=~</action>
                            </front_turn>
                            <rear_turn>
                                <title>Rear Turn Signals</title>
                                <action>fit_sql:type=~</action>
                            </rear_turn>
                            <front_marker>
                                <title>Front Marker Lights</title>
                                <action>fit_sql:type=~</action>
                            </front_marker>
                            <rear_marker>
                                <title>Rear Marker Lights</title>
                                <action>fit_sql:type=~</action>
                            </rear_marker>
                            <license_plate>
                                <title>License Plates</title>
                                <action>fit_sql:type=~</action>
                            </license_plate>
                            <dome>
                                <title>Dome Lights</title>
                                <action>fit_sql:type=~</action>
                            </dome>
                            <brake>
                                <title>Brake Lights</title>
                                <action>fit_sql:type=~</action>
                            </brake>
                            <reverse>
                                <title>Reverse Lights</title>
                                <action>fit_sql:type=~</action>
                            </reverse>
                        </options>
                    </config>
                </action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml"/>
        </reference>
    </buyersguide_leds>

    <CATEGORY_47>
        <update handle="buyersguide_leds"/>
    </CATEGORY_47>



    <buyersguide_lenses>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>lenses</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml"/>
        </reference>
    </buyersguide_lenses>

    <CATEGORY_37>
        <update handle="buyersguide_lenses"/>
    </CATEGORY_37>



    <buyersguide_harnesses>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>bulbs</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_generic" name="buyersguide_toolbar_supplemental" as="buyersguide_toolbar_supplemental" template="cartographee/buyersguide/toolbar/Supplemental.phtml">
                <action method="setStepConfig">
                    <config>
                        <id>harnesses</id>
                        <apply_to_direct_fit>true</apply_to_direct_fit>
                        <options>
                            <all>
                                <title>All Function Types</title>
                            </all>
                            <high>
                                <title>High Beams</title>
                                <action>fit_sql:type=~</action>
                            </high>
                            <low>
                                <title>Low Beams</title>
                                <action>fit_sql:type=~</action>
                            </low>
                            <fog>
                                <title>Fog Lights</title>
                                <action>fit_sql:type=~</action>
                            </fog>
                        </options>
                    </config>
                </action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml"/>
        </reference>
    </buyersguide_harnesses>

    <CATEGORY_32>
        <update handle="buyersguide_harnesses"/>
    </CATEGORY_32>

    <buyersguide_hidbulbs>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>bulbs</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_generic" name="buyersguide_toolbar_supplemental" as="buyersguide_toolbar_supplemental" template="cartographee/buyersguide/toolbar/Supplemental.phtml">
                <action method="setStepConfig">
                    <config>
                        <id>hidbulb_function</id>
                        <apply_to_direct_fit>true</apply_to_direct_fit>
                        <options>
                            <all>
                                <title>All Function Types</title>
                            </all>
                            <high>
                                <title>High Beams</title>
                                <action>fit_sql:type=~</action>
                            </high>
                            <low>
                                <title>Low Beams</title>
                                <action>fit_sql:type=~</action>
                            </low>
                            <fog>
                                <title>Fog Lights</title>
                                <action>fit_sql:type=~</action>
                            </fog>
                        </options>
                    </config>
                </action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml"/>
        </reference>
    </buyersguide_hidbulbs>

    <CATEGORY_7>
        <update handle="buyersguide_hidbulbs"/>
    </CATEGORY_7>



    <buyersguide_projectors>
        <reference name="buyers_guide">
            <action method="addContainerClass"><value>projectors</value></action>
            <block type="cartographee/buyersguide_layer_filter_car" name="buyersguide_car_filter" as="car_filter" template="cartographee/buyersguide/toolbar/Car.phtml"/>
            <block type="cartographee/buyersguide_layer_filter_step_generic" name="buyersguide_toolbar_supplemental" as="buyersguide_toolbar_supplemental" template="cartographee/buyersguide/toolbar/Supplemental.phtml">
                <action method="setStepConfig">
                    <config>
                        <id>projector_function</id>
                        <options>
                            <all>
                                <title>All Function Types</title>
                                <action>step:1</action>
                            </all>
                            <headlights>
                                <title>Headlights</title>
                                <action>step:1</action>
                            </headlights>
                            <foglights>
                                <title>Fog Lights</title>
                                <action>sku:MATCHBOX-R</action>
                            </foglights>
                        </options>
                    </config>
                </action>
            </block>
            <block type="cartographee/buyersguide_layer_filter_step_container" name="buyersguide_steps" as="buyersguide_steps" template="cartographee/buyersguide/step/Container.phtml">
                <block type="cartographee/buyersguide_layer_filter_step_generic" name="step_1" as="step_1" template="cartographee/buyersguide/step/Diagram.phtml">
                    <action method="setQ"><q>1</q></action>
                    <action method="setStepConfig">
                        <config>
                            <display_name>Projector Size</display_name>
                            <step_question>What is the approximate height &amp; depth of your headlight reflector?</step_question>
                            <step_image>
                                <url>images/productcategory/projectors-q1.svg</url>
                                <alt>HID Projectors Diagram</alt>
                            </step_image>
                            <options>
                                <tiny>
                                    <title>Tiny</title>
                                    <desc>Height: 55-75mm
                                        Depth: 106-137mm</desc>
                                    <action>step:2[MATCHBOX-R]</action>
                                </tiny>
                                <small>
                                    <title>Small</title>
                                    <desc>Height: 75-80mm
                                        Depth: 136-138mm</desc>
                                    <action>step:2[MATCHBOX-R, MH16.0-R]</action>
                                </small>
                                <medium>
                                    <title>Medium</title>
                                    <desc>Height: 80-95mm
                                        Depth: 138-149mm</desc>
                                    <action>step:2[MH16.0-R, MD2S3.0-R]</action>
                                </medium>
                                <large>
                                    <title>Large</title>
                                    <desc>Height: 95mm +
                                        Depth: 149mm +</desc>
                                    <action>step:2[MD2S3.0-R, FXR3.0-R]</action>
                                </large>
                            </options>
                        </config>
                    </action>
                </block>
                <block type="cartographee/buyersguide_layer_filter_step_generic" name="step_2" as="step_2" template="cartographee/buyersguide/step/Performance.phtml">
                    <action method="setQ"><q>2</q></action>
                    <action method="setStepConfig">
                        <config>
                            <display_name>Performance/Install Balance</display_name>
                            <step_question>What are your performance vs ease-of-install requirements?</step_question>
                            <performance_aspects>
                                <output>Light Output Performance</output>
                                <sharp>Cutoff Sharpness</sharp>
                                <install>Install Difficulty</install>
                            </performance_aspects>
                            <options>
                                <MATCHBOX-R>
                                    <title>Matchbox</title>
                                    <action>sku:MATCHBOX-R</action>
                                    <aspects>
                                        <output>3</output>
                                        <sharp>5</sharp>
                                        <install>5</install>
                                    </aspects>
                                </MATCHBOX-R>
                                <MH16.0-R>
                                    <title>Mini H1</title>
                                    <action>step:3[MH16.0-R]</action>
                                    <aspects>
                                        <output>6</output>
                                        <sharp>8</sharp>
                                        <install>7</install>
                                    </aspects>
                                </MH16.0-R>
                                <MD2S3.0-R>
                                    <title>Dat MD2</title>
                                    <action>step:3[MD2S3.0-R]</action>
                                    <aspects>
                                        <output>6</output>
                                        <sharp>8</sharp>
                                        <install>7</install>
                                    </aspects>
                                </MD2S3.0-R>
                                <FXR3.0-R>
                                    <title>FXR</title>
                                    <action>step:3[FXR3.0-R]</action>
                                    <aspects>
                                        <output>6</output>
                                        <sharp>8</sharp>
                                        <install>7</install>
                                    </aspects>
                                </FXR3.0-R>
                                <stock>
                                    <title>Baseline (Stock)</title>
                                    <active>0</active>
                                    <aspects>
                                        <output>4</output>
                                        <sharp>2</sharp>
                                    </aspects>
                                </stock>
                            </options>
                        </config>
                    </action>
                </block>
                <block type="cartographee/buyersguide_layer_filter_step_generic" name="step_3" as="step_3" template="cartographee/buyersguide/step/Binary.phtml">
                    <action method="setQ"><q>3</q></action>
                    <action method="setStepConfig">
                        <config>
                            <display_name>Pattern</display_name>
                            <step_question>What beam pattern do you need?</step_question>
                            <binary>
                                <lhd>
                                    <title>Left Hand Drive</title>
                                    <subtitle>(LHD)</subtitle>
                                    <desc>Oncoming traffic drives on the left side of you.</desc>
                                    <ps>United States</ps>
                                    <image>
                                        <url>images/productcategory/projectors-q3lefthand.svg</url>
                                        <alt>HID Projectors Diagram</alt>
                                    </image>
                                </lhd>
                                <rhd>
                                    <title>Right Hand Drive</title>
                                    <subtitle>(RHD)</subtitle>
                                    <desc>Oncoming traffic drives on the right side of you.</desc>
                                    <ps>UK, Australia, India, Japan</ps>
                                    <image>
                                        <url>images/productcategory/projectors-q3righthand.svg</url>
                                        <alt>HID Projectors Diagram</alt>
                                    </image>
                                </rhd>
                            </binary>
                            <options>
                                <MH16.0-R>
                                    <binary>
                                        <lhd><action>sku:MH16.0-R[MH16-LH]</action></lhd>
                                        <rhd><action>sku:MH16.0-R[MH16-RH]</action></rhd>
                                    </binary>
                                </MH16.0-R>
                                <MD2S3.0-R>
                                    <binary>
                                        <lhd><action>sku:MD2S3.0-R[MD2S-3LH]</action></lhd>
                                        <rhd><action>sku:MD2S3.0-R[MD2S-3RH]</action></rhd>
                                    </binary>
                                </MD2S3.0-R>
                                <FXR3.0-R>
                                    <binary>
                                        <lhd><action>sku:FXR3.0-R[FXR3-3LH]</action></lhd>
                                        <rhd><action>sku:FXR3.0-R[FXR3-3RH]</action></rhd>
                                    </binary>
                                </FXR3.0-R>
                            </options>
                        </config>
                    </action>
                </block>
            </block>
        </reference>
    </buyersguide_projectors>

    <CATEGORY_6>
        <update handle="buyersguide_projectors"/>
    </CATEGORY_6>

</layout>